import requests
from webexteamsbot import TeamsBot
# can try webexteamsbot.webexteamsbot if above doesn't work.

# Bot Variables.
bot_email="chris-pardue-chatops@webex.bot"
teams_token="YjUyNDcyYjAtMGYyMi00M2M0LWI2ZjMtMjEwOGE3ZmEzOThkMjQwNzZlZmYtMzQ3_P0A1_9cb69123-89a1-4509-99b7-b0c002627742"
bot_url="changeme_everytime"
bot_name="chris-pardue-chatops"
approved_users=["cpardue@gmail.com"]

# Create a Bot Object.
bot = TeamsBot(
        teams_bot_name=bot_name,
        teams_bot_token=teams_token,
        teams_bot_url=bot_url,
        teams_bot_email=bot_email,
        approved_users=approved_users,
)

# A simple command that returns a basic string that will be sent as a reply
def do_something(incoming_msg):
    """
    Sample function to do some action.
    :param incoming_msg: The incoming message object from Teams
    :return: A text or markdown based reply
    """
    return "i did what you said - {}".format(incoming_msg.text)


# Add new commands to the box.
bot.add_command("/dosomething", "help for do something", do_something)


if __name__ == "__main__":
    # Create the webhook in Teams.


    # Run Bot
    bot.run(host="0.0.0.0", port=5000)
